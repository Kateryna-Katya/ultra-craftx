{"version":3,"file":"main-DAKogjjt.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    /* ==========================================================================\n       1. UI & NAVIGATION (Меню и Хедер)\n       ========================================================================== */\n    const navMenu = document.getElementById('nav-menu');\n    const navToggle = document.getElementById('nav-toggle');\n    const navClose = document.getElementById('nav-close');\n    const navLinks = document.querySelectorAll('.header__link');\n    const header = document.querySelector('.header');\n\n    // Открытие меню\n    if (navToggle) {\n        navToggle.addEventListener('click', () => {\n            navMenu.classList.add('active');\n        });\n    }\n\n    // Закрытие меню\n    if (navClose) {\n        navClose.addEventListener('click', () => {\n            navMenu.classList.remove('active');\n        });\n    }\n\n    // Закрытие при клике на ссылку\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            navMenu.classList.remove('active');\n        });\n    });\n\n    // Эффект хедера при скролле\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.boxShadow = '0 5px 20px rgba(0,0,0,0.5)';\n            header.style.background = 'rgba(11, 11, 13, 0.95)';\n        } else {\n            header.style.boxShadow = 'none';\n            header.style.background = 'rgba(11, 11, 13, 0.9)';\n        }\n    });\n\n    /* ==========================================================================\n       2. HERO ANIMATION (GSAP + SplitType)\n       ========================================================================== */\n    // Проверка наличия библиотек для предотвращения ошибок\n    if (typeof gsap !== 'undefined' && typeof SplitType !== 'undefined' && document.querySelector('#hero-title')) {\n\n        gsap.registerPlugin(ScrollTrigger);\n\n        // Разбиваем текст\n        const heroTitle = new SplitType('#hero-title', {\n            types: 'words, chars',\n            tagName: 'span'\n        });\n\n        const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n        tl.from(heroTitle.chars, {\n            y: 100,\n            opacity: 0,\n            rotationX: -90,\n            stagger: 0.02,\n            duration: 1.2,\n            transformOrigin: \"0% 50% -50\"\n        })\n        .to('.hero__subtitle', {\n            y: 0,\n            opacity: 1,\n            duration: 1,\n            startAt: { y: 20, opacity: 0 }\n        }, \"-=0.8\")\n        .to('.hero__actions', {\n            y: 0,\n            opacity: 1,\n            duration: 0.8,\n            startAt: { y: 20, opacity: 0 }\n        }, \"-=0.6\")\n        .to('.hero__visual', {\n            x: 0,\n            opacity: 1,\n            duration: 1.5,\n            scale: 1,\n            startAt: { x: 50, opacity: 0, scale: 0.95 },\n            ease: 'expo.out'\n        }, \"-=1\");\n\n        // Ресайз фикс для SplitType\n        let resizeTimeout;\n        window.addEventListener('resize', () => {\n            clearTimeout(resizeTimeout);\n            resizeTimeout = setTimeout(() => {\n                heroTitle.revert();\n                heroTitle.split();\n                gsap.set(heroTitle.chars, { y: 0, opacity: 1, rotationX: 0 });\n            }, 200);\n        });\n    }\n\n    /* ==========================================================================\n       3. FAQ ACCORDION (Аккордеон)\n       ========================================================================== */\n    const faqItems = document.querySelectorAll('.faq-item');\n\n    faqItems.forEach(item => {\n        const question = item.querySelector('.faq-question');\n        if (question) {\n            question.addEventListener('click', () => {\n                // Закрываем все остальные\n                faqItems.forEach(otherItem => {\n                    if (otherItem !== item) {\n                        otherItem.classList.remove('active');\n                    }\n                });\n                // Переключаем текущий\n                item.classList.toggle('active');\n            });\n        }\n    });\n\n   /* ==========================================================================\n   CONTACT FORM — Полная валидация + имитация отправки\n   ========================================================================== */\nconst contactForm = document.getElementById('contactForm');\nconst formMessage = document.getElementById('formMessage');\nconst captchaInput = document.getElementById('captchaInput');\nconst captchaLabel = document.getElementById('captchaLabel');\n\nfunction showFieldError(input, message) {\n    input.classList.add('input-error');\n    input.style.borderColor = \"#ff4d4d\";\n\n    let error = input.parentNode.querySelector('.field-error');\n    if (!error) {\n        error = document.createElement('div');\n        error.className = 'field-error';\n        input.parentNode.appendChild(error);\n    }\n    error.textContent = message;\n\n    // Анимация \"shake\"\n    input.style.animation = \"shake 0.3s\";\n    setTimeout(() => (input.style.animation = \"\"), 300);\n}\n\nfunction clearFieldError(input) {\n    input.classList.remove('input-error');\n    input.style.borderColor = \"\";\n    let error = input.parentNode.querySelector('.field-error');\n    if (error) error.remove();\n}\n\nif (contactForm) {\n    contactForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        let isValid = true;\n        const name = contactForm.name;\n        const email = contactForm.email;\n        const phone = contactForm.phone;\n\n        // Очистка прошлых ошибок\n        [name, email, phone, captchaInput].forEach(clearFieldError);\n\n        // ---- Проверка имени ----\n        if (name.value.trim().length < 2) {\n            showFieldError(name, \"Введите корректное имя\");\n            isValid = false;\n        }\n\n        // ---- Проверка Email ----\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(email.value.trim())) {\n            showFieldError(email, \"Введите корректный Email\");\n            isValid = false;\n        }\n\n        // ---- Проверка телефона ----\n        const phoneRegex = /^[0-9+()\\-\\s]{6,}$/;\n        if (!phoneRegex.test(phone.value.trim())) {\n            showFieldError(phone, \"Введите корректный номер телефона\");\n            isValid = false;\n        }\n\n        // ---- Математическая капча ----\n        if (captchaInput.value.trim() !== \"7\") {\n            showFieldError(captchaInput, \"Неверный ответ\");\n            isValid = false;\n        }\n\n        if (!isValid) return;\n\n        // ---- Кнопка в состояние загрузки ----\n        const button = contactForm.querySelector(\"button\");\n        const btnText = button.textContent;\n        button.textContent = \"Отправка...\";\n        button.disabled = true;\n        button.style.opacity = \"0.7\";\n\n        // Имитация отправки\n        setTimeout(() => {\n            button.textContent = btnText;\n            button.disabled = false;\n            button.style.opacity = \"1\";\n\n            formMessage.textContent = \"Спасибо! Ваша заявка отправлена.\";\n            formMessage.className = \"form-message success-msg\";\n\n            contactForm.reset();\n\n            setTimeout(() => {\n                formMessage.textContent = \"\";\n                formMessage.className = \"form-message\";\n            }, 5000);\n        }, 1500);\n    });\n}\n\n    /* ==========================================================================\n       5. COOKIE POPUP (Попап с памятью)\n       ========================================================================== */\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (cookiePopup && acceptBtn) {\n        // Проверяем LocalStorage\n        if (!localStorage.getItem('cookiesAccepted')) {\n            setTimeout(() => {\n                cookiePopup.classList.add('show');\n            }, 2000); // Показать через 2 сек после загрузки\n        }\n\n        acceptBtn.addEventListener('click', () => {\n            cookiePopup.classList.remove('show');\n            localStorage.setItem('cookiesAccepted', 'true');\n        });\n    }\n});"],"names":["navMenu","navToggle","navClose","navLinks","header","link","heroTitle","resizeTimeout","faqItems","item","question","otherItem","contactForm","formMessage","captchaInput","showFieldError","input","message","error","clearFieldError","isValid","name","email","phone","button","btnText","cookiePopup","acceptBtn"],"mappings":"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"}